(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fd20bbba"],{"0534":function(t,e,a){"use strict";var s=a("1393"),r=a.n(s);r.a},1393:function(t,e,a){},3617:function(t,e,a){"use strict";var s=a("a4c0"),r=a.n(s);r.a},"578a":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"forms"},[a("div",[t._v(" "+t._s(t.message)+" ")]),a("div",{staticClass:"login br-l"},[a("h2",[t._v("Вход")]),a("div",{staticClass:"mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lemail,expression:"lemail"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.lemail},on:{input:function(e){e.target.composing||(t.lemail=e.target.value)}}})]),a("div",{staticClass:"mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lpassword,expression:"lpassword"}],attrs:{type:"password",placeholder:"Пароль"},domProps:{value:t.lpassword},on:{input:function(e){e.target.composing||(t.lpassword=e.target.value)}}})]),a("button",{attrs:{type:"submit"},on:{click:function(e){return t.login()}}},[t._v("Вход")])]),a("div",{staticClass:"login"},[a("h2",[t._v("Регистрация")]),a("div",{staticClass:"mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",placeholder:"Имя"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),a("div",{staticClass:"mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",placeholder:"Пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("div",{staticClass:"mb-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.spassword,expression:"spassword"}],attrs:{type:"password",placeholder:"Повторите пароль"},domProps:{value:t.spassword},on:{input:function(e){e.target.composing||(t.spassword=e.target.value)}}})]),a("button",{attrs:{type:"submit"},on:{click:function(e){return t.register()}}},[t._v("Регистрация")])])])},r=[],o=(a("b0c0"),{name:"Login",data:function(){return{message:"",name:"",spassword:"",email:"",password:"",lemail:"",lpassword:""}},methods:{login:function(){var t=this;if(!(this.lemail.length<1&&this.lpassword.length<1)){var e={email:this.lemail,password:this.lpassword};this.axios.post("http://new-viva-test/api/login",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(e){t.message=e.data.message,t.lemail="",t.lpassword="",localStorage.removeItem("accessToken"),localStorage.setItem("accessToken",e.data.data.token),t.$auth.setToken(e.data.data.token,new Date(Date.now()+864e5))})).catch((function(e){t.message=e}))}},register:function(){var t=this;if(!(this.email.length<1&&this.password.length<1&&this.spassword.length<1&&this.name.length<1)){var e={email:this.email,name:this.name,password:this.password,spassword:this.spassword};this.axios.post("http://new-viva-test/api/register",JSON.stringify(e),{headers:{"Content-Type":"application/json"}}).then((function(e){t.message=e.data.message,t.email="",t.name="",t.password="",t.spassword="",localStorage.removeItem("accessToken"),localStorage.setItem("accessToken",e.data.data.token),t.$auth.setToken(e.data.data.token,new Date(Date.now()+864e5))})).catch((function(e){t.message=e}))}}}}),i=o,n=(a("3617"),a("2877")),p=Object(n["a"])(i,s,r,!1,null,"20fc1053",null);e["a"]=p.exports},a4c0:function(t,e,a){},b0c0:function(t,e,a){var s=a("83ab"),r=a("9bf2").f,o=Function.prototype,i=o.toString,n=/^\s*function ([^ (]*)/,p="name";s&&!(p in o)&&r(o,p,{configurable:!0,get:function(){try{return i.call(this).match(n)[1]}catch(t){return""}}})},f529:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"guarded"},[this.$store.getters.auth.isAuthenticated?a("div",[t._m(0),t._m(1),t._v(" ## Routes "),a("p",[t._v("POST /api/register")]),a("p",[t._v("POST /api/login")]),a("br"),a("p",[t._v("GET /api/posts")]),a("p",[t._v("GET /api/posts/create")]),a("p",[t._v("POST /api/posts")]),a("p",[t._v("GET /api/posts/{post}")]),a("p",[t._v("GET /api/posts/{post}/edit")]),a("p",[t._v("PUT /api/posts/{post}")]),a("p",[t._v("DELETE /api/posts/{post}")]),a("br"),a("p",[t._v("GET /api/users")]),a("p",[t._v("GET /api/users/create")]),a("p",[t._v("POST /api/users")]),a("p",[t._v("GET /api/users/{user}")]),a("p",[t._v("GET /api/users/{user}/edit")]),a("p",[t._v("PUT /api/users/{user}")]),a("p",[t._v("DELETE /api/users/{user}")]),a("br"),t._v(" ## License The Laravel framework is open-sourced software licensed under the [MIT license](https://opensource.org/licenses/MIT). ")]):a("div",[a("Login")],1)])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{attrs:{align:"center"}},[a("img",{attrs:{src:"https://res.cloudinary.com/dtfbvvkyp/image/upload/v1566331377/laravel-logolockup-cmyk-red.svg",width:"400"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{attrs:{align:"center"}},[a("a",{attrs:{href:"https://travis-ci.org/laravel/framework"}},[a("img",{attrs:{src:"https://travis-ci.org/laravel/framework.svg",alt:"Build Status"}})]),a("a",{attrs:{href:"https://packagist.org/packages/laravel/framework"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel/framework/d/total.svg",alt:"Total Downloads"}})]),a("a",{attrs:{href:"https://packagist.org/packages/laravel/framework"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel/framework/v/stable.svg",alt:"Latest Stable Version"}})]),a("a",{attrs:{href:"https://packagist.org/packages/laravel/framework"}},[a("img",{attrs:{src:"https://poser.pugx.org/laravel/framework/license.svg",alt:"License"}})])])}],o=a("578a"),i={name:"Admin",components:{Login:o["a"]},data:function(){return{users:[],posts:[]}},methods:{getUsers:function(){var t=this;this.axios.get("http://new-viva-test/api/users",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}}).then((function(e){t.users=e.data.data}))},getPosts:function(){var t=this;this.axios.get("http://new-viva-test/api/posts",{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("accessToken"))}}).then((function(e){t.posts=e.data.data}))},createRender:function(){this.getUsers(),this.getPosts()}},computed:{applicationAuth:function(){return this.$store.getters.auth.isAuthenticated}},watch:{applicationAuth:function(t){!0===t&&this.createRender()}},mounted:function(){this.$auth.isAuthenticated()&&this.createRender()}},n=i,p=(a("0534"),a("2877")),l=Object(p["a"])(n,s,r,!1,null,"36b2e09b",null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-fd20bbba.230a2ef1.js.map